<div class="app-main__inner">
  <div class="main-card mb-3 card">
    <div class="card-header card-title">
      <h4 class="mb-0">Edit Applicant</h4>
    </div>
    <div class="card-body">
      <form
        [formGroup]="editApplicantForm"
        (ngSubmit)="submit()"
        #myform="ngForm"
      >
        <div class="row">
          <div class="col-md-4">
            <div class="position-relative form-group">
              <label for="exampleEmail11" class="required">First Name<span aria-hidden="true" class="required2"> *</span></label>
              <input
                placeholder="First Name"
                type="text"
                class="form-control"
                name="firstName"
                formControlName="firstName"
              />
            </div>
            <div
              class="text-danger"
              *ngIf="
                (editApplicantForm.get('firstName')?.invalid &&
                  (editApplicantForm.get('firstName')?.dirty ||
                    editApplicantForm.get('firstName')?.touched)) ||
                (editApplicantForm.get('firstName')?.hasError('required') &&
                  myform.submitted)
              "
            >
              <span class="error">First Name is required</span>
            </div>
            <div
              class="text-danger"
              *ngIf="editApplicantForm.get('firstName')?.hasError('maxlength')"
            >
              <span class="error">Maximum allowed length is 15</span>
            </div>
            <div
              class="text-danger"
              *ngIf="editApplicantForm.get('firstName')?.hasError('minlength')"
            >
              <span class="error">Minimum required words are 2</span>
            </div>
            <div
              class="text-danger"
              *ngIf="editApplicantForm.get('firstName')?.hasError('pattern')"
            >
              <span class="error">Only Alphabets are allowed</span>
            </div>
          </div>
          <div class="col-md-4">
            <div class="position-relative form-group">
              <label for="exampleEmail11" class="required">Last Name<span aria-hidden="true" class="required2"> *</span></label>
              <input
                placeholder="Last Name"
                type="text"
                class="form-control"
                name="lastName"
                formControlName="lastName"
              />
            </div>
            <div
              class="text-danger"
              *ngIf="
                (editApplicantForm.get('lastName')?.invalid &&
                  (editApplicantForm.get('lastName')?.dirty ||
                    editApplicantForm.get('lastName')?.touched)) ||
                (editApplicantForm.get('lastName')?.hasError('required') &&
                  myform.submitted)
              "
            >
              <span class="error">Last Name is required</span>
            </div>
            <div
              class="text-danger"
              *ngIf="editApplicantForm.get('lastName')?.hasError('maxlength')"
            >
              <span class="error">Maximum allowed length is 15</span>
            </div>
            <div
              class="text-danger"
              *ngIf="editApplicantForm.get('lastName')?.hasError('minlength')"
            >
              <span class="error">Minimum required words are 2</span>
            </div>
            <div
              class="text-danger"
              *ngIf="editApplicantForm.get('lastName')?.hasError('pattern')"
            >
              <span class="error">Only Alphabets are allowed</span>
            </div>
          </div>
          <div class="col-md-4">
            <div class="position-relative form-group">
              <label for="exampleEmail11" class="required">Email<span aria-hidden="true" class="required2"> *</span></label>
              <input
                placeholder="Email address"
                type="text"
                class="form-control"
                name="email"
                formControlName="emailAddress"
              />
            </div>
            <div
              class="text-danger"
              *ngIf="
                (editApplicantForm.get('emailAddress')?.invalid &&
                  (editApplicantForm.get('emailAddress')?.dirty ||
                    editApplicantForm.get('emailAddress')?.touched)) ||
                (editApplicantForm.get('emailAddress')?.hasError('required') &&
                  myform.submitted)
              "
            >
              <span class="error">Email is required</span>
            </div>
            <div
              class="text-danger"
              *ngIf="editApplicantForm.get('emailAddress')?.hasError('pattern')"
            >
              <span class="error">Provide a correct email</span>
            </div>
          </div>
          <div class="col-md-4">
            <div class="position-relative form-group">
              <label for="exampleEmail11" class="required">Phone Number<span aria-hidden="true" class="required2"> *</span></label>
              <input
                placeholder="Phone"
                type="text"
                class="form-control"
                name="phone"
                formControlName="phoneNumber"
              />
            </div>
            <div
              class="text-danger"
              *ngIf="
                (editApplicantForm.get('phoneNumber')?.invalid &&
                  (editApplicantForm.get('phoneNumber')?.dirty ||
                    editApplicantForm.get('phoneNumber')?.touched)) ||
                (editApplicantForm.get('phoneNumber')?.hasError('required') &&
                  myform.submitted)
              "
            >
              <span class="error">Phone Number is required</span>
            </div>
            <div
              class="text-danger"
              *ngIf="
                editApplicantForm.get('phoneNumber')?.hasError('pattern')
              "
            >
              <span class="error">Only Numbers are allowed</span>
            </div>
            
          </div>
          <div class="col-md-4">
            <div class="position-relative form-group">
              <label for="exampleEmail11" class="required">College Name<span aria-hidden="true" class="required2"> *</span></label>
              <select
                class="form-select form-control mr-4"
                placeholder="Select Company"
                formControlName="collegeId"
              >
                <option value="">Select College</option>
                <option
                  *ngFor="let college of collegeList"
                  [value]="college.collegeId"
                >
                  {{ college.collegeName }}
                </option>
              </select>
            </div>
            <div
              class="text-danger"
              *ngIf="
                (editApplicantForm.get('collegeId')?.invalid &&
                  (editApplicantForm.get('collegeId')?.dirty ||
                    editApplicantForm.get('collegeId')?.touched)) ||
                (editApplicantForm.get('collegeId')?.hasError('required') &&
                  myform.submitted)
              "
            >
              <span class="error">College Name is required</span>
            </div>
          </div>
          <div class="col-md-4">
            <div class="position-relative form-group">
              <label for="exampleEmail11" class="required"
                >Highest Qualification<span aria-hidden="true" class="required2"> *</span></label
              >
              <select
                class="form-select form-control mr-4"
                placeholder="Select Company"
                formControlName="highestQualification"
              >
                <option value="">Select Qualification</option>
                <option
                  *ngFor="let qual of qualificationList"
                  [value]="qual.qualId"
                >
                  {{ qual.qualName }}
                </option>
              </select>
            </div>
            <div
              class="text-danger"
              *ngIf="
                (editApplicantForm.get('highestQualification')?.invalid &&
                  (editApplicantForm.get('highestQualification')?.dirty ||
                  editApplicantForm.get('highestQualification')?.touched)) ||
                (editApplicantForm.get('highestQualification')?.hasError('required') &&
                  myform.submitted)
              "
            >
              <span class="error">Highest Qualification is required</span>
            </div>
          </div>
          <div class="col-md-4">
            <div class="position-relative form-group">
              <label for="exampleEmail11" class="required"
                >Highest Qualification Percentage<span aria-hidden="true" class="required2"> *</span></label
              >
              <input
                placeholder="Highest Qualification Percentage"
                type="text"
                class="form-control"
                name="higestQualificationPercentage"
                formControlName="highestQualificationPercentage"
              />
            </div>
            <div
              class="text-danger"
              *ngIf="editApplicantForm.get('highestQualificationPercentage')?.hasError('max')"
            >
              <span class="error">Maximum Percentage Can be 100</span>
            </div>
            <div
              class="text-danger"
              *ngIf="
                (editApplicantForm.get('highestQualificationPercentage')?.invalid &&
                  (editApplicantForm.get('highestQualificationPercentage')?.dirty ||
                    editApplicantForm.get('highestQualificationPercentage')?.touched)) ||
                (editApplicantForm.get('highestQualificationPercentage')?.hasError('required') &&
                  myform.submitted)
              "
            >
              <span class="error"
                >Highest Qualification Percentage is required</span
              >
            </div>
          </div>
          <div class="col-md-4">
            <div class="position-relative form-group">
              <label for="exampleEmail11" class="required"
                >Metric Percentage<span aria-hidden="true" class="required2"> *</span></label
              >
              <input
                placeholder="Metric Percentage"
                type="text"
                class="form-control"
                name="matricPercentage"
                formControlName="matricPercentage"
              />
            </div>
            <div
              class="text-danger"
              *ngIf="editApplicantForm.get('matricPercentage')?.hasError('max')"
            >
              <span class="error">Maximum Percentage Can be 100</span>
            </div>
            <div
              class="text-danger"
              *ngIf="
                (editApplicantForm.get('matricPercentage')?.invalid &&
                  (editApplicantForm.get('matricPercentage')?.dirty ||
                    editApplicantForm.get('matricPercentage')?.touched)) ||
                (editApplicantForm.get('matricPercentage')?.hasError('required') &&
                  myform.submitted)
              "
            >
              <span class="error">Metric Percentage is required</span>
            </div>
          </div>
          <div class="col-md-4">
            <div class="position-relative form-group">
              <label for="exampleEmail11" class="required"
                >Intermediate Percentage<span aria-hidden="true" class="required2"> *</span></label
              >
              <input
                placeholder="Intermediate Percentage"
                type="text"
                class="form-control"
                name="intermediatePercentage"
                formControlName="intermediatePercentage"
              />
            </div>
            <div
              class="text-danger"
              *ngIf="editApplicantForm.get('intermediatePercentage')?.hasError('max')"
            >
              <span class="error">Maximum Percentage Can be 100</span>
            </div>
            <div
              class="text-danger"
              *ngIf="
                (editApplicantForm.get('intermediatePercentage')?.invalid &&
                  (editApplicantForm.get('intermediatePercentage')?.dirty ||
                    editApplicantForm.get('intermediatePercentage')?.touched)) ||
                (editApplicantForm.get('intermediatePercentage')?.hasError('required') &&
                  myform.submitted)
              "
            >
              <span class="error">Intermediate Percentage is required</span>
            </div>
          </div>
          <div class="col-md-4">
            <div class="position-relative form-group">
              <label for="exampleEmail11" class="required">Skills<span aria-hidden="true" class="required2"> *</span></label>
              <div formArrayName="skilltype">
                <ng-container *ngFor="let skill of skilltype.controls; let i=index" [formGroupName]="i">
                 
                    <input class="form-control" type="text" formControlName="skillName">
                    
                    <button (click)="removeSkill(i)">Remove</button>
                </ng-container>
                <button type="button" (click)="addSkill()">Add</button>
              </div>
            </div>
            <div
              class="text-danger"
              *ngIf="
                (editApplicantForm.get('skilltype')?.invalid &&
                  (editApplicantForm.get('skilltype')?.dirty ||
                  editApplicantForm.get('skilltype')?.touched)) ||
                (editApplicantForm.get('skilltype')?.hasError('required') &&
                  myform.submitted)
              "
            >
              <span class="error">Skills is required</span>
            </div>
          </div>

          <div class="col-md-4">
            <div class="position-relative form-group">
              <label for="exampleEmail11" class="required">Comment</label>
              <input
                placeholder="Comment"
                type="text"
                class="form-control"
                name="comment"
                formControlName="comment"
              />
            </div>
            
            <div
              class="text-danger"
              *ngIf="editApplicantForm.get('comment')?.hasError('maxlength')"
            >
              <span class="error">Max 1000 characters are allowed</span>
            </div>
          </div>

          <div class="col-md-4">
            <div class="position-relative form-group">
              <label for="exampleEmail11" className="">Status<span aria-hidden="true" class="required2"> *</span></label>
              <select
                class="form-select form-control mr-4"
                placeholder="Select Select"
                formControlName="statusId"
              >
                <option value="">Select Status</option>
                <option
                  *ngFor="let status of statusList"
                  [value]="status.statusId"
                >
                  {{ status.statusName }}
                </option>
              </select>
            </div>
            <div
              class="text-danger"
              *ngIf="
                (editApplicantForm.get('statusId')?.invalid &&
                  (editApplicantForm.get('statusId')?.dirty ||
                    editApplicantForm.get('statusId')?.touched)) ||
                (editApplicantForm.get('statusId')?.hasError('required') &&
                  myform.submitted)
              "
            >
              <span class="error">Status is required</span>
            </div>
          </div>

          

          <div class="col-md-4">
            <div class="position-relative form-group">
              <label for="exampleEmail11" className="">Company<span aria-hidden="true" class="required2"> *</span></label>
              <select
                class="form-select form-control mr-4"
                placeholder="Select Company"
                formControlName="assignedToCompany"
              >
                <option value="">Select Company</option>
                <option
                  *ngFor="let company of companyList"
                  [value]="company.companyId"
                >
                  {{ company.companyName }}
                </option>
              </select>
            </div>
            <div
              class="text-danger"
              *ngIf="
                (editApplicantForm.get('assignedToCompany')?.invalid &&
                  (editApplicantForm.get('assignedToCompany')?.dirty ||
                    editApplicantForm.get('assignedToCompany')?.touched)) ||
                (editApplicantForm.get('assignedToCompany')?.hasError('required') &&
                  myform.submitted)
              "
            >
              <span class="error">Company is required</span>
            </div>
          </div>

          <div class="col-md-12">
            <div class="d-flex btn_form mt-3">
              <button type="submit" class="btn btn-primary mr-3">Update</button>
              <button
                type="button"
                class="btn btn-secondary"
                (click)="cancel()"
              >
                Cancel
              </button>
            </div>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
